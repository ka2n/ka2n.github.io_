<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>ktmtt</title><link>http://d.ktmtt.com/</link><description></description><atom:link href="http://d.ktmtt.com/feeds/atom.xml" rel="self"></atom:link><lastBuildDate>Wed, 25 Dec 2013 01:42:00 +0900</lastBuildDate><item><title>reSTむずい</title><link>http://d.ktmtt.com/-/2013/12/25/restmuzui/</link><description>&lt;p&gt;reStructedTextは拡張可能だし、なんでも書ける気がするんだけどなかなか覚えられない。今も脚注が上手く書けなくて困っている。
Markdownの方が直感的だなぁと思う。とは言うもののこっちはこっちで亜種が多く戸惑う。(&lt;a class="reference external" href="http://github.github.com/github-flavored-markdown/"&gt;GFM&lt;/a&gt; ばっかり書いてるけどビューアーの挙動が違うとか)&lt;/p&gt;
&lt;p&gt;まずはここれを覚えよう。&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="http://www.planewave.org/translations/rst/quickref.html"&gt;http://www.planewave.org/translations/rst/quickref.html&lt;/a&gt;&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ka2n</dc:creator><pubDate>Wed, 25 Dec 2013 01:42:00 +0900</pubDate><guid>tag:d.ktmtt.com,2013-12-25:-/2013/12/25/restmuzui/</guid></item><item><title>2014年はブログ頑張って書いてみようと思う</title><link>http://d.ktmtt.com/-/2013/12/24/2014nian-haburoguwan-zhang-tsuteshu-itemiyoutosi-u/</link><description>&lt;p&gt;ということでPelicanのテーマ変えた。でもタイトル決めないと書けないのって面倒。&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ka2n</dc:creator><pubDate>Tue, 24 Dec 2013 02:02:00 +0900</pubDate><guid>tag:d.ktmtt.com,2013-12-24:-/2013/12/24/2014nian-haburoguwan-zhang-tsuteshu-itemiyoutosi-u/</guid></item><item><title>iOS7がWebspeech Synthesis APIをサポートしたので試す</title><link>http://d.ktmtt.com/-/2013/09/20/ios7_webspeech_test/</link><description>&lt;p&gt;iOS7のSafariからWebspeech APIのSynthesis API(text to speech)をサポートしたようなので試してみる.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kd"&gt;var&lt;/span&gt; &lt;span class="nx"&gt;s&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nx"&gt;SpeechSynthesisUtterance&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Hello&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="nx"&gt;speech&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;rate&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;             &lt;span class="c1"&gt;// スピード&lt;/span&gt;
&lt;span class="nx"&gt;speech&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;volume&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;           &lt;span class="c1"&gt;// 音量&lt;/span&gt;
&lt;span class="nx"&gt;speech&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;pitch&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;            &lt;span class="c1"&gt;// ピッチ&lt;/span&gt;
&lt;span class="nx"&gt;speech&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;text&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Helloooo&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;    &lt;span class="c1"&gt;// 内容&lt;/span&gt;
&lt;span class="nx"&gt;speech&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;lang&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;ja-JP&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;       &lt;span class="c1"&gt;// 言語&lt;/span&gt;

&lt;span class="nx"&gt;speechSynthesis&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;speak&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;s&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;SpeechSynthesisUtteranceのlangが空だった場合は端末の言語に合せてくれる模様。&lt;/p&gt;
&lt;p&gt;テストページを作りました。
&lt;a class="reference external" href="|filename|files/ios7_webspeech_test.html"&gt;iOS7 webspeech test(iOS7で見て下さい)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;注意が必要なのは、ボタンを押すなどのユーザーによる操作の後にしか動作しない点
なかなか面白いAPIですね。口を動かすのが面倒な時に使ってみてはいかがでしょうか。&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ka2n</dc:creator><pubDate>Fri, 20 Sep 2013 07:50:00 +0900</pubDate><guid>tag:d.ktmtt.com,2013-09-20:-/2013/09/20/ios7_webspeech_test/</guid><category>iOS</category><category>HTML</category></item><item><title>Named routing with regexp in FuelPHP</title><link>http://d.ktmtt.com/-/2013/06/25/named-routing-with-regexp-in-fuelphp/</link><description>&lt;p&gt;FuelPHPでルーティングルールを設定する時, (:segment)や(:num),(:alpha)等を使えます。
また、:name, :hogeなど名前付きのルートを設定することも可能です。&lt;/p&gt;
&lt;p&gt;ただし、名前付きのルートは内部で (?P&amp;lt;$1&amp;gt;.+?) になる。名前を指定すると正規表現のルールが決め打ちになってします。
なので正規表現で書いてみる。&lt;/p&gt;
&lt;p&gt;/foo/(:num)/bar を名前付きでマッチする例&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;/foo/(?P&amp;lt;name&amp;gt;:num?)/bar
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;そのままベタで正規表現で書く例&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;/foo/(?P&amp;lt;name&amp;gt;\d{2}?)/bar
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;マッチした名前のパラメータは $this-&amp;gt;param('name')で取り出すことができます。&lt;/p&gt;
&lt;p&gt;よくドキュメントを読むと &amp;quot;You can include any regex into your routes&amp;quot; って書いてあるんですね。知らなかった。&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ka2n</dc:creator><pubDate>Tue, 25 Jun 2013 23:41:00 +0900</pubDate><guid>tag:d.ktmtt.com,2013-06-25:-/2013/06/25/named-routing-with-regexp-in-fuelphp/</guid><category>php</category><category>FuelPHP</category></item><item><title>boto 2.9.5でSNSからSQSに送られてきたメッセージが文字化けする問題</title><link>http://d.ktmtt.com/-/2013/06/15/boto_sqs_sns_invalid_message/</link><description>&lt;p&gt;AWSの &lt;a class="reference external" href="http://aws.amazon.com/sqs/"&gt;SQS&lt;/a&gt; , &lt;a class="reference external" href="http://aws.amazon.com/sns/"&gt;SNS&lt;/a&gt; を使ったWebサービスをPythonで作っていたのだけど、
SNSからSQSにメッセージを投げた時にメッセージが文字化けしてしまうことがあった。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;Python 2.7.2 (default, Oct 11 2012, 20:14:37)
boto 2.9.5
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;を使用&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;boto&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;sqs&lt;/span&gt;
&lt;span class="c"&gt;# 接続&lt;/span&gt;
&lt;span class="n"&gt;conn&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;sqs&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;connect_to_region&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;ap-northeast-q&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;aws_access_key_id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;key&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;aws_secret_access_key&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;sec&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c"&gt;# キューを取得&lt;/span&gt;
&lt;span class="n"&gt;queue&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;conn&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_queue&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;queue_name&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c"&gt;# メッセージを取得&lt;/span&gt;
&lt;span class="n"&gt;messages&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;queue&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_messages&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;messages&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;# &amp;gt; 1&lt;/span&gt;

&lt;span class="n"&gt;message&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;messages&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;message&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_body&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="sd"&gt;中身がこんな感じで化ける&lt;/span&gt;

&lt;span class="sd"&gt;O*^6\x8bb~&amp;#39;\x1a\xb6*&amp;#39;1\xeb,j\x07\x88w\x7f.....&lt;/span&gt;
&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;通常の方法で送った時は問題無いのだけどSNSから送ると化ける。
あとコンソールだと普通に読める。
どうやら通常の文字列がbase64で&lt;strong&gt;デコード&lt;/strong&gt;されてしまっているっぽい。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;base64&lt;/span&gt;
&lt;span class="n"&gt;txt&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="s"&gt;{&lt;/span&gt;
&lt;span class="s"&gt;    &amp;quot;Type&amp;quot; : &amp;quot;Notification&amp;quot;,&lt;/span&gt;
&lt;span class="s"&gt;    &amp;quot;MessageId&amp;quot; : &amp;quot;00000000-0000-0000-0000-000000000000&amp;quot;,&lt;/span&gt;
&lt;span class="s"&gt;    &amp;quot;TopicArn&amp;quot; : &amp;quot;arn:aws:sns:ap-northeast-1:12345:name&amp;quot;,&lt;/span&gt;
&lt;span class="s"&gt;    &amp;quot;Subject&amp;quot; : &amp;quot;Notification name&amp;quot;,&lt;/span&gt;
&lt;span class="s"&gt;    &amp;quot;Message&amp;quot; : &amp;quot;&amp;quot;,&lt;/span&gt;
&lt;span class="s"&gt;    &amp;quot;Timestamp&amp;quot; : &amp;quot;2013-06-15T13:30:26.436Z&amp;quot;,&lt;/span&gt;
&lt;span class="s"&gt;    &amp;quot;SignatureVersion&amp;quot; : &amp;quot;1&amp;quot;,&lt;/span&gt;
&lt;span class="s"&gt;    &amp;quot;Signature&amp;quot; : &amp;quot;&amp;quot;,&lt;/span&gt;
&lt;span class="s"&gt;    &amp;quot;SigningCertURL&amp;quot; : &amp;quot;https://cert&amp;quot;,&lt;/span&gt;
&lt;span class="s"&gt;    &amp;quot;UnsubscribeURL&amp;quot; : &amp;quot;https://unsubscribe&amp;quot;&lt;/span&gt;
&lt;span class="s"&gt;    }&lt;/span&gt;
&lt;span class="s"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;

&lt;span class="c"&gt;# デコードする&lt;/span&gt;
&lt;span class="n"&gt;base64&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;b64decode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;txt&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="sd"&gt;なんか似た感じ!!&lt;/span&gt;

&lt;span class="sd"&gt;O*^6\x8bb~&amp;#39;\x1a\xb6*&amp;#39;1\xeb,j\x07\x88wM4\xd3M4\xd3M4\xd3M4\xd3M4\xd3M4\xd3M4\xd3M4\xd1:)\x89\xc0+\x9d\xaa\xe7k\x0b,\x9e\xc6\xa9\x9e\x8a\xed\x85\xe6\xac\xb7]v\xdf\x8egjg\x92\xb9\xb8\xder\xd3h\xb6&amp;#39;\xe2q\xabb\xa2y\xda\x99\xe3\x1e\xb2\xc6\xa0y8\xa6z\xcbZ\x9a\x9d\xb4\xd7}:\xd7\x94\xf5\xdf}6\xeb\x8d\xfae(\xa0\x9d\xabn\xad\xe5^\xae\xc8\xa8\x9fT\xa2\x82v\xad\xba\xb7\x92\x8a\t\xe2\x9e\x00\x9e\xae\xd5\x11.\x1bm\xa6\xcf\xffq\xea\xedR{.n\xc7+\x89\xb7\x94D\xb8m\xb6\x9b?\xfe\xe9\xec\xb9\xbb\x1c\xae&amp;amp;\xde&lt;/span&gt;
&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;解決するには、無駄にデコードしてくれちゃってるのを止めさせるんだけどとりあえずの解決方法が見つかった。&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://groups.google.com/forum/?fromgroups#!topic/boto-users/Pv5fUc_RdVU"&gt;Garbled data when subscribing to SNS topic with SQS?&lt;/a&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;boto&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;sqs&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;boto.sqs.message&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;RawMessage&lt;/span&gt;

&lt;span class="n"&gt;conn&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;sqs&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;connect_to_region&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;ap-northeast-q&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;aws_access_key_id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;key&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;aws_secret_access_key&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;sec&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;queue&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;conn&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_queue&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;queue_name&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c"&gt;# MessageではなくRawMessageにする&lt;/span&gt;
&lt;span class="n"&gt;queue&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_message_class&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;RawMessage&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;messages&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;queue&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_messages&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;message&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;messages&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;message&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_body&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="sd"&gt;正しい結果が取得できた&lt;/span&gt;

&lt;span class="sd"&gt;{&lt;/span&gt;
&lt;span class="sd"&gt;    &amp;quot;Type&amp;quot; : &amp;quot;Notification&amp;quot;&lt;/span&gt;
&lt;span class="sd"&gt;    ....&lt;/span&gt;
&lt;span class="sd"&gt;}&lt;/span&gt;
&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;必ず文字化けした状態でデータが送られてくるのならこれで対処できる。&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ka2n</dc:creator><pubDate>Sat, 15 Jun 2013 23:41:00 +0900</pubDate><guid>tag:d.ktmtt.com,2013-06-15:-/2013/06/15/boto_sqs_sns_invalid_message/</guid><category>python</category></item><item><title>Images Test</title><link>http://d.ktmtt.com/-/2013/04/23/images-test/</link><description>&lt;div class="figure"&gt;
&lt;img alt="" src="/static/images/dummy-800x300.png" /&gt;
&lt;p class="caption"&gt;This is the caption of the figure (a simple paragraph).&lt;/p&gt;
&lt;div class="legend"&gt;
The legend consists of all elements after the caption.  In this
case, the legend consists of this paragraph.&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse
cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
proident, sunt in culpa qui officia deserunt mollit anim id est laborum.&lt;/p&gt;
&lt;div class="figure"&gt;
&lt;img alt="map to buried treasure" src="/static/images/dummy-200x200.png" /&gt;
&lt;p class="caption"&gt;This is the caption of the figure (a simple paragraph).&lt;/p&gt;
&lt;div class="legend"&gt;
The legend consists of all elements after the caption.  In this
case, the legend consists of this paragraph.&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse
cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
proident, sunt in culpa qui officia deserunt mollit anim id est laborum.&lt;/p&gt;
&lt;div class="figure align-right"&gt;
&lt;img alt="map to buried treasure 2" src="/static/images/dummy-250x300.png" /&gt;
&lt;p class="caption"&gt;This is the second image caption.&lt;/p&gt;
&lt;div class="legend"&gt;
Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
tempor incididunt ut labore et dolore magna aliqua.&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse
cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
proident, sunt in culpa qui officia deserunt mollit anim id est laborum.&lt;/p&gt;
&lt;img alt="" src="/static/images/dummy-200x200.png" /&gt;
&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse
cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
proident, sunt in culpa qui officia deserunt mollit anim id est laborum.&lt;/p&gt;
&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse
cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
proident, sunt in culpa qui officia deserunt mollit anim id est laborum.&lt;/p&gt;
&lt;img alt="" class="align-right" src="/static/images/dummy-250x300.png" /&gt;
&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse
cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
proident, sunt in culpa qui officia deserunt mollit anim id est laborum.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ka2n</dc:creator><pubDate>Tue, 23 Apr 2013 15:59:39 +0900</pubDate><guid>tag:d.ktmtt.com,2013-04-23:-/2013/04/23/images-test/</guid><category>images</category><category>test</category></item><item><title>Fitbit One購入</title><link>http://d.ktmtt.com/-/2013/04/14/fitbit-one/</link><description>&lt;p&gt;&lt;a class="reference external" href="http://ktmtt.com/diary/2013-fitbit-aria.html"&gt;Fitbit
Aria&lt;/a&gt;を購入してからというもの快適個人情報垂れ流し生活をしている訳ですがこの度Fitbitの活動量計であるFitbit
Oneを購入しました。&lt;/p&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;なんか始めてのセットアップ以降、同期できないんだけどね。&lt;/div&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;&lt;a class="reference external" href="http://ktmtt.com/diary/wp-content/uploads/Screen-Shot-2013-04-14-at-21.44.38.png"&gt;&lt;img alt="Screen Shot 2013-04-14 at 21.44.38" src="http://ktmtt.com/diary/wp-content/uploads/Screen-Shot-2013-04-14-at-21.44.38-300x230.png" /&gt;&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&amp;quot;Oh no! We found a problem! Server appears to be busy at the moment.
Please try again later.&amp;quot;&lt;/p&gt;
&lt;p&gt;とは書いてあるけれど、通信内容を覗くと&amp;quot;INVALID_TRACKER_DATA&amp;quot;と入っていたのでこちらがおかしいようです。Fitbit
Oneを工場出荷時へリセットする方法がわからないのでひとまずサポートに連絡中。&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ka2n</dc:creator><pubDate>Sun, 14 Apr 2013 21:51:00 +0900</pubDate><guid>tag:d.ktmtt.com,2013-04-14:-/2013/04/14/fitbit-one/</guid><category>fitbit</category></item><item><title>Fitbit Aria 体重計で未来を感じた</title><link>http://d.ktmtt.com/-/2013/01/03/fitbit-aria/</link><description>&lt;div class="line-block"&gt;
&lt;div class="line"&gt;Fitbit Aiaという体重計を買いました。&lt;/div&gt;
&lt;div class="line"&gt;何がすごいってとりあえず載れば計測開始、体重から誰か判別、そしてWiFiで自動的にFitbitという健康管理Webサイトに同期してくれる。気付くと毎日の体重変化のグラフが出来上がっている！！&lt;/div&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;機械に管理されてると言われようが、これが未来だ。&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Fitbitは体重の記録の他に、食事、運動、睡眠の記録をする事が出来るらしい。
フィットネス系の他のサービスと連携してデータをやり取りする事が出来るみたいです。
ただ、よく使うiOSのアプリCyclemeterはその連携に対応していない模様。&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ka2n</dc:creator><pubDate>Thu, 03 Jan 2013 20:58:00 +0900</pubDate><guid>tag:d.ktmtt.com,2013-01-03:-/2013/01/03/fitbit-aria/</guid><category>fitbit</category><category>gadget</category></item><item><title>Kindle paperwhite 5.3をJailbreakしてみた</title><link>http://d.ktmtt.com/-/2013/01/03/kindle-paperwhite-5-3-jailbreak/</link><description>&lt;p&gt;僕も買いました。Amazon Kindle paperwhite.
いやーバックライト便利。ワンクリック購入便利。ここの所iPhone5 + Kindle
paperwhiteの組み合わせが一番しっくりきます。&lt;/p&gt;
&lt;p&gt;koboハックは案外盛り上がっていて楽しそうですが、既に一番使っているのはkindle.
ハックできたら楽しいだろうなぁ、、そんな夢を見ました。&lt;/p&gt;
&lt;div class="caution" style="background: #F2DEDE; color: #b94a48; border: #EED3D7 1px solid; font-size: 0.8em; padding: 0.3em;"&gt;&lt;div class="line-block"&gt;
&lt;div class="line"&gt;以下夢につき、同じ事を試すことであなたのkindleが&lt;strong&gt;ただの板&lt;/strong&gt;になってしまう可能性があります。文鎮化した場合は本当にどうしようもなくなるようです.&lt;/div&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;その際にまな板以外の使い方が見つかっておりませんのでご注意下さい。&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;現在対応しているファームウェアのバージョンは5.3.1までのようです。
バージョンの確認は、ホームから 右上のメニュー &amp;gt; 設定 &amp;gt;
もう一度右上のメニュー &amp;gt; 端末情報
から見ることができます。自分は購入時5.3.0、先程5.3.1にアップデートしました。(やり方は&lt;a class="reference external" href="http://ktmtt.com/diary/2012-kindle-paperwhite-firmware-update.html"&gt;こっち&lt;/a&gt;に書きました)&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="http://www.mobileread.com/forums/showthread.php?t=198446"&gt;http://www.mobileread.com/forums/showthread.php?t=198446&lt;/a&gt;&lt;/p&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;&lt;p class="first"&gt;上記URLで公開されている kpw_jb.zip
をダウンロードしてくる。こいつはjailbreak用のスクリプト以外にもレスキュー用のファイルやらなんやらが含まれていてよしなにやってくれるみたい。(jailbreak.sh見れば大きな流れがわかるよ)&amp;nbsp;展開しREADME.txtにそって手順を踏んでいきます。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;kindleをUSBでPCにつなぐ。ファイルシステムにマウントされるので直下にjailbreak.sh&amp;quot;
と &amp;quot;MOBI8_DEBUG&amp;quot;をコピーする。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;jailbreak.mobiは直下ではなくdocuments以下に置く。(これが細工されたmobiファイルでjailbreak.shを呼ぶのかな??)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;kindleをアンマウントする。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;ホーム画面に&amp;quot;Paperwhite Jailbreak&amp;quot;とマヤ文明の絵みたいな表紙が書かれたパーソナルドキュメントがあるのでそれを開く&lt;/dt&gt;
&lt;dd&gt;&lt;p class="first last"&gt;&lt;a class="reference external" href="http://ktmtt.com/diary/wp-content/uploads/22e2b5cc8d152fff9a3ba6f6a9c4b214.png"&gt;&lt;img alt="kindle_jailbreak" src="http://ktmtt.com/diary/wp-content/uploads/22e2b5cc8d152fff9a3ba6f6a9c4b214-222x300.png" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;すると下の画面になるので、文字をタップ&lt;/dt&gt;
&lt;dd&gt;&lt;p class="first last"&gt;&lt;a class="reference external" href="http://ktmtt.com/diary/wp-content/uploads/db2b16b36269374d5e52441a4f62538e.png"&gt;&lt;img alt="image1" src="http://ktmtt.com/diary/wp-content/uploads/db2b16b36269374d5e52441a4f62538e-222x300.png" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;表示されているとおりに左上を2秒ほど長押し&lt;/dt&gt;
&lt;dd&gt;&lt;p class="first last"&gt;&lt;a class="reference external" href="http://ktmtt.com/diary/wp-content/uploads/8b9ba847f0d35b7e69bca4ed920c0974.png"&gt;&lt;img alt="image2" src="http://ktmtt.com/diary/wp-content/uploads/8b9ba847f0d35b7e69bca4ed920c0974-222x300.png" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;あとはおまかせ&lt;/dt&gt;
&lt;dd&gt;&lt;p class="first last"&gt;&lt;img alt="image3" src="http://ktmtt.com/diary/wp-content/uploads/ff15cbae21d03e1b9fb739830db4f39c-222x300.png" /&gt;
&lt;img alt="image4" src="http://ktmtt.com/diary/wp-content/uploads/ab4d8a5d3ba2182253f295b7de29f41c-222x300.png" /&gt;
&lt;a class="reference external" href="http://ktmtt.com/diary/wp-content/uploads/72f02428f02127c6315bf8de95bfde51.png"&gt;&lt;img alt="image5" src="http://ktmtt.com/diary/wp-content/uploads/72f02428f02127c6315bf8de95bfde51-222x300.png" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;丁寧にログまで残してくれるんですね。あっさり完了。&lt;/dt&gt;
&lt;dd&gt;&lt;p class="first last"&gt;&lt;a class="reference external" href="http://ktmtt.com/diary/wp-content/uploads/38be4d412c6a6f8f1b88e9efb6f05b02.png"&gt;&lt;img alt="image6" src="http://ktmtt.com/diary/wp-content/uploads/38be4d412c6a6f8f1b88e9efb6f05b02-222x300.png" /&gt;&lt;/a&gt;
&lt;a class="reference external" href="http://ktmtt.com/diary/wp-content/uploads/4e1deab25f47a7c3709a0855bb1ed593.png"&gt;&lt;img alt="image7" src="http://ktmtt.com/diary/wp-content/uploads/4e1deab25f47a7c3709a0855bb1ed593-222x300.png" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;文鎮化した際はどうしようもないようなので、その時は観念しましょう。&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ka2n</dc:creator><pubDate>Thu, 03 Jan 2013 20:58:00 +0900</pubDate><guid>tag:d.ktmtt.com,2013-01-03:-/2013/01/03/kindle-paperwhite-5-3-jailbreak/</guid><category>kindle</category></item><item><title>Kindle paperwhiteのファームウェアアップデート方法</title><link>http://d.ktmtt.com/-/2012/12/12/kindle-paperwhite-firmware-update/</link><description>&lt;ol class="arabic simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="http://www.amazon.co.uk/gp/help/customer/display.html/?nodeId=201063560"&gt;ここ&lt;/a&gt;を開きます&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Download Version
5.3.1&lt;/strong&gt;と書いてある所からファームウェアをダウンロードします&lt;/li&gt;
&lt;li&gt;kindleをUSBでPCに繋ぎます&lt;/li&gt;
&lt;li&gt;Kindleがマウントされるのでダウンロードしたファイルをそこへそのまま突っ込みます&lt;/li&gt;
&lt;li&gt;突っ込み終わったらアンマウントします&lt;/li&gt;
&lt;li&gt;kindleの右上のメニュー &amp;gt; 設定 &amp;gt; 右上のメニュー &amp;gt;
Kindleのアップデートを行う を選択します&lt;/li&gt;
&lt;li&gt;確認のダイアログがでるので、OKします&lt;/li&gt;
&lt;li&gt;すると勝手に再起動してアップデートが実行されます&lt;/li&gt;
&lt;/ol&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ka2n</dc:creator><pubDate>Wed, 12 Dec 2012 01:47:00 +0900</pubDate><guid>tag:d.ktmtt.com,2012-12-12:-/2012/12/12/kindle-paperwhite-firmware-update/</guid><category>kindle</category></item><item><title>FILENAME_METADATA example</title><link>http://d.ktmtt.com/-/2012/11/30/filename_metadata-example/</link><description>&lt;p&gt;Some cool stuff!&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ka2n</dc:creator><pubDate>Fri, 30 Nov 2012 00:00:00 +0900</pubDate><guid>tag:d.ktmtt.com,2012-11-30:-/2012/11/30/filename_metadata-example/</guid></item><item><title>YASERO, ORE</title><link>http://d.ktmtt.com/-/2012/09/18/yaser-ore/</link><description>&lt;p&gt;&lt;script type="text/javascript" src="//ajax.googleapis.com/ajax/static/modules/gviz/1.0/chart.js"&gt; {"dataSourceUrl":"//docs.google.com/spreadsheet/tq?key=0AnwTccAGUPjGdDZBODBKYmlnNjFPdGhUWUQwQ1ZNUnc&amp;transpose=0&amp;headers=1&amp;range=A1%3AC101&amp;gid=0&amp;pub=1","options":{"titleTextStyle":{"bold":true,"color":"#000","fontSize":16},"series":{"0":{"errorBars":{"errorType":"none","magnitude":0.5},"pointSize":0,"targetAxisIndex":0,"lineWidth":4}},"curveType":"function","animation":{"duration":0},"backgroundColor":{"fill":"#ffffff"},"width":600,"theme":"maximized","lineWidth":2,"hAxis":{"titleTextStyle":{"bold":true,"color":"#222","italic":false,"fontSize":12},"useFormatFromData":true,"title":"Date","minValue":null,"viewWindowMode":null,"textStyle":{"bold":false,"color":"#666666","italic":true,"fontSize":"7"},"viewWindow":null,"maxValue":null},"vAxes":[{"titleTextStyle":{"color":"#f9cb9c","italic":true,"fontSize":"14"},"useFormatFromData":true,"title":"kg","minValue":null,"viewWindowMode":"pretty","logScale":false,"viewWindow":{"min":null,"max":null},"maxValue":null},{"useFormatFromData":true,"minValue":null,"viewWindowMode":"pretty","logScale":false,"viewWindow":{"min":null,"max":null},"maxValue":null}],"booleanRole":"certainty","title":"Weight","height":371,"interpolateNulls":false,"domainAxis":{"direction":1},"legend":"in"},"state":{},"view":{},"chartType":"LineChart","chartName":"\u30b0\u30e9\u30d5 1"} &lt;/script&gt;&lt;/p&gt;&lt;div class="line-block"&gt;
&lt;div class="line"&gt;img version&lt;/div&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;&lt;img alt="image0" src="https://docs.google.com/spreadsheet/oimg?key=0AnwTccAGUPjGdDZBODBKYmlnNjFPdGhUWUQwQ1ZNUnc&amp;amp;oid=1&amp;amp;zx=2826q15mmw8p" /&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;for ore.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ka2n</dc:creator><pubDate>Tue, 18 Sep 2012 04:54:00 +0900</pubDate><guid>tag:d.ktmtt.com,2012-09-18:-/2012/09/18/yaser-ore/</guid></item><item><title>ただの板になってしまったkobo Touch復活法(ハードキーで出荷時に戻す)</title><link>http://d.ktmtt.com/-/2012/07/21/kobo-touch/</link><description>&lt;p&gt;&lt;a class="reference external" href="http://hb.afl.rakuten.co.jp/hgc/0fd46a7a.20c8ded4.0fd46a7b.ff3a0d35/?pc=http%3a%2f%2fbooks.rakuten.co.jp%2frb%2fkobo-Touch-%25EF%25BC%2588%25E3%2582%25B7%25E3%2583%25AB%25E3%2583%2590%25E3%2583%25BC%25EF%25BC%2589-0681495000050%2fitem%2f11749016%2f%3fscid%3dwi_kb_btn_btn_item_dev-02%26scid%3daf_ich_link_urltxt&amp;amp;m=http%3a%2f%2fm.rakuten.co.jp%2fev%2fbook%2"&gt;kobo Touch&lt;/a&gt;買いました。&lt;/p&gt;
&lt;p&gt;手元のepubを入れた所、めちゃくちゃ遅かったので激しく萎えたのですが、拡張子を*.kepub.epubに変えた所快適になりました。
最高！でもハードキー欲しい！&lt;/p&gt;
&lt;p&gt;ところで、試しにディスクユーティリティでKOBOeReaderを初期化してみたところ、私のkobo
Touchは見事ただの白くて四角い板に変身…
ソフトリセットは裏のピンを押せばできるので、初期登録画面までは行くが、USBでPCとつないでもKobo
Desktopは沈黙してしまう。コマッタ。&lt;/p&gt;
&lt;p&gt;散々ググってようやく見つけたkobo Touchのリセットではなく&lt;strong&gt;復元&lt;/strong&gt;をする方法をメモしておきます。&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;電源OFF&lt;/li&gt;
&lt;li&gt;ホームボタンを押しながら、電源ON&lt;/li&gt;
&lt;li&gt;(Restoringとか復元とか画面に表示されてしばらく経つ)&lt;/li&gt;
&lt;li&gt;黒いkoboの起動画面が表示される。(この時点で復元OK)&lt;/li&gt;
&lt;li&gt;実は電源が切れているので、電源ON&lt;/li&gt;
&lt;li&gt;復元完了！ (よかった！kobo Desktopも&lt;a class="reference external" href="http://ktmtt.com/diary/?attachment_id=643"&gt;認識してくれた！&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;さあて、元に戻ったので、皆さん人柱頑張りましょう。&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ka2n</dc:creator><pubDate>Sat, 21 Jul 2012 06:28:00 +0900</pubDate><guid>tag:d.ktmtt.com,2012-07-21:-/2012/07/21/kobo-touch/</guid><category>kobo</category></item><item><title>GuradでJSXでの開発を快適に</title><link>http://d.ktmtt.com/-/2012/06/03/gurad-jsx/</link><description>&lt;p&gt;&lt;a class="reference external" href="https://gist.github.com/2863673"&gt;https://gist.github.com/2863673&lt;/a&gt;
おもしろそうな上に使えそうなJSX&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ka2n</dc:creator><pubDate>Sun, 03 Jun 2012 23:21:00 +0900</pubDate><guid>tag:d.ktmtt.com,2012-06-03:-/2012/06/03/gurad-jsx/</guid><category>javascript</category><category>JSX</category></item><item><title>Deuxième article</title><link>http://d.ktmtt.com/second-article-fr.html</link><description>&lt;p&gt;Ceci est un article, en français.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ka2n</dc:creator><pubDate>Wed, 29 Feb 2012 00:00:00 +0900</pubDate><guid>tag:d.ktmtt.com,2012-02-29:second-article-fr.html</guid><category>foo</category><category>bar</category><category>baz</category></item><item><title>Xcodeを使いiOSアプリをWifi経由で実機デバッグ</title><link>http://d.ktmtt.com/-/2012/02/07/xcode-lan/</link><description>&lt;p&gt;追記: XCode 4.3でこの機能は削除されてしまったようです。残念。。&lt;/p&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;できるってご存知でしたか？&lt;/div&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;僕は知りませんでした。&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;メニューの Xcode &amp;gt; Preferences (⌘+,)を開いてここにチェックを入れる！&lt;/div&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;&lt;a class="reference external" href="http://ktmtt.com/diary/wp-content/uploads/xcodewifidebug1.jpg"&gt;&lt;img alt="image0" src="http://ktmtt.com/diary/wp-content/uploads/xcodewifidebug1.jpg" /&gt;&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;若干無駄にネットワークを経由するせいか遅い気がしますがわざわざ繋ぐ必要がないのは感動です。&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ka2n</dc:creator><pubDate>Tue, 07 Feb 2012 01:13:00 +0900</pubDate><guid>tag:d.ktmtt.com,2012-02-07:-/2012/02/07/xcode-lan/</guid><category>iOS</category><category>Xcode</category></item><item><title>Titanium mobileでiPhoneの電話用のスピーカー(レシーバー)から音を鳴らす</title><link>http://d.ktmtt.com/-/2012/02/07/titanium-mobile-iphone/</link><description>&lt;p&gt;Titanium
mobileで音声ファイルを再生したい時はTi.Media.sound周りなどを使いますが、大きな音が出るスピーカーではなく電話の時に使う小さいスピーカー(本当はレシーバーというそうです)から音を出したいときってありますよね。きっと。探しみたら簡単にできる様なのでここに書いておきます。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kd"&gt;var&lt;/span&gt; &lt;span class="nx"&gt;player&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;Ti&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;Media&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;createSound&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;
 &lt;span class="nx"&gt;url&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;sound.caf&amp;#39;&lt;/span&gt;
 &lt;span class="p"&gt;});&lt;/span&gt;

&lt;span class="nx"&gt;player&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;play&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt; &lt;span class="c1"&gt;// スピーカーから音がなる&lt;/span&gt;

&lt;span class="c1"&gt;// 現在のオーディオセッションのルートを変える&lt;/span&gt;
&lt;span class="nx"&gt;Ti&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;Media&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;setAudioSessionMode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;Ti&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;Media&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;AUDIO_SESSION_MODE_PLAY_AND_RECORD&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="nx"&gt;player&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;play&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt; &lt;span class="c1"&gt;// レシーバーから音がなる&lt;/span&gt;

&lt;span class="c1"&gt;// 元のルートに変える&lt;/span&gt;

&lt;span class="nx"&gt;Ti&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;Media&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;setAudioSessionMode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;Titanium&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;Media&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;AUDIO_SESSION_MODE_PLAYBACK&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="nx"&gt;player&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;play&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt; &lt;span class="c1"&gt;// スピーカーから音がなる&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ka2n</dc:creator><pubDate>Tue, 07 Feb 2012 00:49:00 +0900</pubDate><guid>tag:d.ktmtt.com,2012-02-07:-/2012/02/07/titanium-mobile-iphone/</guid><category>iOS</category><category>titanium</category></item><item><title>すごい遅れ馳せながらnode.jsはじめました</title><link>http://d.ktmtt.com/-/2012/02/03/node-js/</link><description>&lt;p&gt;マジで乗り遅れている。&lt;/p&gt;
&lt;p&gt;おら&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="gp"&gt;$&lt;/span&gt; brew install node
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Socket.IOとかいうライブラリを使うとWebSocketとかできるのか。
ちなみにWebSocket的なのはGAEのChannel APIでやったことがある(気がする)。&lt;/p&gt;
&lt;p&gt;Expressというのを入れるとルーティングもやってくれるみたい。
パッケージ管理はnpmを使うらしい。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="gp"&gt;$&lt;/span&gt; brew install npm
&lt;span class="go"&gt;Error: No available formula for npm&lt;/span&gt;
&lt;span class="go"&gt;npm can be installed thusly by following the instructions at&lt;/span&gt;
&lt;span class="go"&gt;http://npmjs.org/&lt;/span&gt;

&lt;span class="go"&gt;To do it in one line, use this command:&lt;/span&gt;
&lt;span class="go"&gt; curl http://npmjs.org/install.sh | sh&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ほう、そうか&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="gp"&gt;$&lt;/span&gt; curl http://npmjs.org/install.sh | sh
&lt;span class="go"&gt;-- 中略 --&lt;/span&gt;
&lt;span class="go"&gt;All clean!&lt;/span&gt;
&lt;span class="go"&gt;/usr/local/bin/npm -&amp;gt; /usr/local/lib/node_modules/npm/bin/npm-cli.js&lt;/span&gt;
&lt;span class="go"&gt;npm@1.1.0-3 /usr/local/lib/node_modules/npm&lt;/span&gt;
&lt;span class="go"&gt;It worked&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;おー/usr/localに入った。おｋおｋ。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="gp"&gt;$&lt;/span&gt; npm install socket.io
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;これでSocket.IOも入った。&lt;/p&gt;
&lt;p&gt;Socket.IOを使ったアプリケーションのひな形はSocket.IOのページに書いてある。&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="http://socket.io/"&gt;http://socket.io/&lt;/a&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kd"&gt;var&lt;/span&gt; &lt;span class="nx"&gt;io&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;require&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;socket.io&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="nx"&gt;listen&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;80&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="nx"&gt;io&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;sockets&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;on&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;connection&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kd"&gt;function&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;socket&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nx"&gt;socket&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;emit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;news&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="nx"&gt;hello&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;world&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;});&lt;/span&gt;
    &lt;span class="nx"&gt;socket&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;on&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;my other event&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kd"&gt;function&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;data&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="nx"&gt;console&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;log&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;data&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="p"&gt;});&lt;/span&gt;
&lt;span class="p"&gt;});&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;emitでイベントを起こして、onでイベントを受け取るらしい。&lt;/p&gt;
&lt;p&gt;あと、Objective-Cのモジュール
&lt;a class="reference external" href="http://code.google.com/p/unitt/wiki/UnittWebSocketClient"&gt;http://code.google.com/p/unitt/wiki/UnittWebSocketClient&lt;/a&gt;
これ使ってみよう。
データベースはmongoでいいかな。&lt;/p&gt;
&lt;p&gt;これで簡単な投票システムでも作ってみる。できたら追記しよっと(いつやるかは決めてない)。&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ka2n</dc:creator><pubDate>Fri, 03 Feb 2012 15:12:00 +0900</pubDate><guid>tag:d.ktmtt.com,2012-02-03:-/2012/02/03/node-js/</guid><category>nodejs</category></item><item><title>brewに新しいコマンドが増えていた</title><link>http://d.ktmtt.com/-/2012/02/02/brew/</link><description>&lt;p&gt;Macをお使いの方々はパッケージマネージャーにMacPortsかHomebrewのどちらかをお使いかと思いますが、前日brew-updateしたらHomebrewにコマンドが増えていました。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="gp"&gt;$&lt;/span&gt; brew beer
&lt;/pre&gt;&lt;/div&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ka2n</dc:creator><pubDate>Thu, 02 Feb 2012 10:52:00 +0900</pubDate><guid>tag:d.ktmtt.com,2012-02-02:-/2012/02/02/brew/</guid></item><item><title>スマートフォンとPCで表示するViewを変更 #FuelPHP</title><link>http://d.ktmtt.com/-/2012/01/20/pc-view-fuelphp/</link><description>&lt;p&gt;最近FuelPHP初めましたっ///&lt;/p&gt;
&lt;p&gt;同一のURLでPCとスマートフォンに対応したいですよね。&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;CSS3 Media Queriesを使ってクライアントサイドで振り分ける&lt;/li&gt;
&lt;li&gt;UserAgentを見てサーバサイドで振り分ける&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;なんて方法があると思います。
全部Media Queriesを使ってやろうとすると、スマホ用とPC用とPad用でごっちゃごちゃになっちゃいそうです。
まず、PCとスマホ/Padで分けてから、Media QueriesでスマホとPadで分けるのがいいんじゃないかと個人的には思います。
スマホとPadはタッチデバイス(であることが多い)ですからね。&lt;/p&gt;
&lt;p&gt;FuelPHPには、UserAgent周りを扱うAgentクラスがありますのでそれを使います。
あと、Themeクラスなんていうものもあります(これなぜかドキュメントに載っていない)。
この2つを使ってみたいと思います。&lt;/p&gt;
&lt;p&gt;作戦&lt;/p&gt;
&lt;blockquote&gt;
FuelのControllerクラスを拡張してAppControllerクラスを作る。
AppController::beforeでUserAgentを判別し、テーマを切り替える。
レスポンスはThemeクラスを使って構築する。&lt;/blockquote&gt;
&lt;p&gt;よし、早速やってみます。&lt;/p&gt;
&lt;p&gt;APPPATH/classes/controller/app_controller.php&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="cp"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;AppController&lt;/span&gt; &lt;span class="k"&gt;extends&lt;/span&gt; &lt;span class="nx"&gt;Fuel\Core\Controller&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;function&lt;/span&gt; &lt;span class="nf"&gt;before&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="k"&gt;parent&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="na"&gt;before&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;とりあえずこんな感じでファイルを作成します。ちなみにAppControllerとかネーミングは適当デス。&lt;/p&gt;
&lt;p&gt;このクラスをFuelPHPが動くたびに読み込んでくれるように設定します。&lt;/p&gt;
&lt;p&gt;APPPATH/bootstrap.php&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="cp"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span class="o"&gt;...&lt;/span&gt;&lt;span class="err"&gt;略&lt;/span&gt;&lt;span class="o"&gt;...&lt;/span&gt;

&lt;span class="nx"&gt;Autoloader&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="na"&gt;add_classes&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="c1"&gt;// Add classes you want to override here&lt;/span&gt;
    &lt;span class="c1"&gt;// Example: &amp;#39;View&amp;#39; =&amp;gt; APPPATH.&amp;#39;classes/view.php&amp;#39;,&lt;/span&gt;
    &lt;span class="s1"&gt;&amp;#39;AppController&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="nx"&gt;APPPATH&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;classes/controller/app_controller.php&amp;#39;&lt;/span&gt;
&lt;span class="p"&gt;));&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;これで、どのクラスからもAppControllerという名前で作成したクラスを呼び出せるようになりました。&lt;/p&gt;
&lt;p&gt;次に、AgentをつかってUAを判別する部分を書きます。&lt;/p&gt;
&lt;p&gt;APPPATH/classes/controller/app_controller.php&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="cp"&gt;&amp;lt;?php&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;AppController&lt;/span&gt; &lt;span class="k"&gt;extends&lt;/span&gt; &lt;span class="nx"&gt;Fuel\Core\Controller&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;function&lt;/span&gt; &lt;span class="nf"&gt;before&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="k"&gt;parent&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="na"&gt;before&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;private&lt;/span&gt; &lt;span class="k"&gt;function&lt;/span&gt; &lt;span class="nf"&gt;is_smartphone&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nx"&gt;Agent&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="na"&gt;is_mobiledevice&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;こんな感じに書いてみました。Agentクラスはbrowsecap.iniを読み込んでいるのでそれでUAを判別しています。
今回はPC以外はスマートフォンってことにします。
あと、SoftBankが見当たらないんですがどうすればいいんでしょうか。フューチャーフォン対応はしないので気にしません。
Agent::browser();で&amp;quot;DoCoMo&amp;quot;とか取得できるので、フューチャーフォン対応が必要ならそれを使うことになると思います。
最後に、Themeクラスを使って読み込むViewファイルを切り替えてみます。
このThemeクラスっていうのがよく分からなくて、それっぽい名前なので使ってみるのですが、本来意図された使い方とは違うかもしれません。&lt;/p&gt;
&lt;p&gt;Themeクラス自体の使い方はこんな具合です。&lt;/p&gt;
&lt;p&gt;APPPATH/classes/controller/hogehoge.php&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="cp"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Controller_Hogehoge&lt;/span&gt; &lt;span class="k"&gt;extends&lt;/span&gt; &lt;span class="nx"&gt;Controller&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;function&lt;/span&gt; &lt;span class="nf"&gt;before&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="nv"&gt;$this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="na"&gt;Theme&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;Theme&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="na"&gt;forge&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
            &lt;span class="s1"&gt;&amp;#39;active&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;theme1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c1"&gt;// 現在のテーマ&lt;/span&gt;
            &lt;span class="s1"&gt;&amp;#39;fallback&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;default&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c1"&gt;// 現在のテーマに目的のViewファイルが無かった時に探すテーマ&lt;/span&gt;
            &lt;span class="s1"&gt;&amp;#39;paths&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;APPPATH&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;views&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="c1"&gt;// テーマディレクトリの検索パス&lt;/span&gt;
            &lt;span class="s1"&gt;&amp;#39;assets_folder&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;assets&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c1"&gt;// assetsのフォルダ名(謎)&lt;/span&gt;
            &lt;span class="s1"&gt;&amp;#39;view_ext&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;.php&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c1"&gt;// Viewファイルの拡張子&lt;/span&gt;
            &lt;span class="s1"&gt;&amp;#39;require_info_file&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;false&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="s1"&gt;&amp;#39;info_file_name&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;theme.info&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="p"&gt;));&lt;/span&gt;

        &lt;span class="c1"&gt;// info_file_nameとかあることを考えると、WordPressみたいなテーマシステムを組み込むためのもの？&lt;/span&gt;
        &lt;span class="c1"&gt;// forgeの引数に設定を書くと、Themeクラスのデフォルト設定に上書きされる&lt;/span&gt;
        &lt;span class="c1"&gt;// 設定を書かなければデフォルト値が使われるか、APPPATH/config/theme.phpがあればそれが読み込まれる&lt;/span&gt;

        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="k"&gt;parent&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="na"&gt;before&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;function&lt;/span&gt; &lt;span class="nf"&gt;action_welcome&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nx"&gt;Response&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="na"&gt;forge&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="na"&gt;Theme&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="na"&gt;view&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;welcome/index&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt; &lt;span class="c1"&gt;// View-&amp;gt;forgeの代わりにTheme::viewを使う&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ちなみにViewクラスの置き換えはできますが、ViewModelをすることは今のところ出来ないようです。
上記の呼び出し方の場合、APPPATH/viewsがベースになるので、&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;APPPATH/views/default/&lt;/li&gt;
&lt;li&gt;APPPATH/views/theme1/&lt;/li&gt;
&lt;li&gt;APPPATH/views/theme2/&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;上記のパスにそれぞれのビューのファイルを配置します。&lt;/p&gt;
&lt;p&gt;このThemeクラスを先程のAppControllerに組み込んでみました。&lt;/p&gt;
&lt;p&gt;APPPATH/classes/controller/app_controller.php&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="cp"&gt;&amp;lt;?php&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;AppController&lt;/span&gt; &lt;span class="k"&gt;extends&lt;/span&gt; &lt;span class="nx"&gt;Fuel\Core\Controller&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;

    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;function&lt;/span&gt; &lt;span class="nf"&gt;before&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="nv"&gt;$activeTheme&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;default&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="na"&gt;is_smartphone&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="nv"&gt;$activeTheme&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;smartphone&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;

        &lt;span class="nv"&gt;$this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="na"&gt;Theme&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;Theme&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="na"&gt;forge&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
            &lt;span class="s1"&gt;&amp;#39;active&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="nv"&gt;$activeTheme&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="s1"&gt;&amp;#39;fallback&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;default&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="s1"&gt;&amp;#39;paths&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;APPPATH&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;views&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
            &lt;span class="s1"&gt;&amp;#39;view_ext&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;.php&amp;#39;&lt;/span&gt;
        &lt;span class="p"&gt;));&lt;/span&gt;

        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="k"&gt;parent&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="na"&gt;before&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;private&lt;/span&gt; &lt;span class="k"&gt;function&lt;/span&gt; &lt;span class="nf"&gt;is_smartphone&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nx"&gt;Agent&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="na"&gt;is_mobiledevice&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;UAに対応したテーマ名をThemeクラスに設定してあげているだけです。&lt;/p&gt;
&lt;p&gt;あとはこんな具合&lt;/p&gt;
&lt;p&gt;APPPATH/classes/controller/welcome.php&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="cp"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Controller_Welcome&lt;/span&gt; &lt;span class="k"&gt;extends&lt;/span&gt; &lt;span class="nx"&gt;AppController&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;

    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;function&lt;/span&gt; &lt;span class="nf"&gt;before&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="k"&gt;parent&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="na"&gt;before&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;function&lt;/span&gt; &lt;span class="nf"&gt;action_index&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nx"&gt;Response&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="na"&gt;forge&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="na"&gt;Theme&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="na"&gt;view&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;welcome/index&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;APPPATH/views/default/welcome/index.php&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="cp"&gt;&amp;lt;!DOCTYPE HTML&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;html&lt;/span&gt; &lt;span class="na"&gt;lang=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;ja&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;head&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;meta&lt;/span&gt; &lt;span class="na"&gt;charset=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;UTF-8&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;title&amp;gt;&lt;/span&gt;PC&lt;span class="nt"&gt;&amp;lt;/title&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/head&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;body&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;h1&amp;gt;&lt;/span&gt;このページはPC用です&lt;span class="nt"&gt;&amp;lt;/h1&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/body&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/html&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;APPPATH/views/smartphone/welcome/index.php&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="cp"&gt;&amp;lt;!DOCTYPE HTML&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;html&lt;/span&gt; &lt;span class="na"&gt;lang=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;ja&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;head&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;meta&lt;/span&gt; &lt;span class="na"&gt;charset=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;UTF-8&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;meta&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;viewport&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;content=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;width=device-width, initial-scale=1,&lt;/span&gt;
&lt;span class="s"&gt;        maximum-scale=2&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;title&amp;gt;&lt;/span&gt;スマートフォン/Pad&lt;span class="nt"&gt;&amp;lt;/title&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;style&amp;gt;&lt;/span&gt;

            &lt;span class="nc"&gt;.only_for_pad&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                &lt;span class="k"&gt;display&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="k"&gt;none&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="p"&gt;}&lt;/span&gt;

            &lt;span class="nc"&gt;.only_for_mobile&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                &lt;span class="k"&gt;display&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="k"&gt;none&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="p"&gt;}&lt;/span&gt;

            &lt;span class="k"&gt;@media&lt;/span&gt; &lt;span class="nt"&gt;screen&lt;/span&gt; &lt;span class="nt"&gt;and&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;max-width&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;480px&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                &lt;span class="nc"&gt;.only_for_mobile&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                    &lt;span class="k"&gt;display&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="k"&gt;block&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
                &lt;span class="p"&gt;}&lt;/span&gt;
            &lt;span class="p"&gt;}&lt;/span&gt;

            &lt;span class="k"&gt;@media&lt;/span&gt; &lt;span class="nt"&gt;only&lt;/span&gt; &lt;span class="nt"&gt;screen&lt;/span&gt; &lt;span class="nt"&gt;and&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;min-device-width&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;768px&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="nt"&gt;and&lt;/span&gt;
            &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;max-device-width&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;1024px&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                &lt;span class="nc"&gt;.only_for_pad&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                    &lt;span class="k"&gt;display&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="k"&gt;block&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
                &lt;span class="p"&gt;}&lt;/span&gt;
            &lt;span class="p"&gt;}&lt;/span&gt;

        &lt;span class="nt"&gt;&amp;lt;/style&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/head&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;body&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;p&amp;gt;&lt;/span&gt;Padとスマホで表示されるページです。&lt;span class="nt"&gt;&amp;lt;/p&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;p&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;only_for_pad&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;この文章はPad用です。&lt;span class="nt"&gt;&amp;lt;/p&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;p&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;only_for_mobile&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;この文章はモバイル用です。&lt;span class="nt"&gt;&amp;lt;/p&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/body&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/html&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="section" id="id1"&gt;
&lt;h2&gt;あとがき&lt;/h2&gt;
&lt;p&gt;試していないですが、Themeクラスを使わずに
Fuel::add_pathで単純にパスを追加するだけでViewModelで使えて幸せになれるんじゃないかと思います(今更)&lt;/p&gt;
&lt;/div&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ka2n</dc:creator><pubDate>Fri, 20 Jan 2012 01:22:00 +0900</pubDate><guid>tag:d.ktmtt.com,2012-01-20:-/2012/01/20/pc-view-fuelphp/</guid><category>fuelphp</category><category>php</category></item></channel></rss>