<!doctype html>
<html lang="ja">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="ktmtt, " />

    <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.2.1/pure-min.css" />
    <link rel="stylesheet" href="http://d.ktmtt.com/theme/pure.css" />
    <link rel="stylesheet" href="http://d.ktmtt.com/theme/pygment.css" />

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="http://use.typekit.net/ajf8ggy.js"></script>
    <script>
        try { Typekit.load(); } catch (e) {}
    </script>

    <link rel="author" href="https://plus.google.com/+KatsumaIto/posts" />

    <!-- Open Graph tags -->
            <meta property="og:type" content="article"/>
            <meta property="og:title" content="スマートフォンとPCで表示するViewを変更 #FuelPHP"/>
            <meta property="og:url" content="http://d.ktmtt.com/-/2012/01/20/pc-view-fuelphp/"/>
            <meta property="og:description" content="最近FuelPHP初めましたっ/// 同一のURLでPCとスマートフォンに対応したいですよね。 CSS3 Media Queriesを使ってクライアントサイドで振り分ける UserAgentを見てサーバサイドで振り分ける なんて方法があると思います。 全部Media Queriesを使ってやろうとすると、スマホ用とPC用とPad用でごっちゃごちゃになっちゃいそうです。 まず、PCとスマホ/Padで分けてから、Media QueriesでスマホとPadで分けるのがいいんじゃないかと個人的には思います。 スマホとPadはタッチデバイス(であることが多い)ですからね。 FuelPHPには、UserAgent周りを扱うAgentクラスがありますのでそれを使います。 あと、Themeクラスなんていうものもあります(これなぜかドキュメントに載っていない)。 この2つを使ってみたいと思います。 作戦 FuelのControllerクラスを拡張してAppControllerクラスを作る。 AppController::beforeでUserAgentを判別し、テーマを切り替える。 レスポンスはThemeクラスを使って構築する。 よし、早速やってみます。 APPPATH/classes/controller/app_controller.php <?php class AppController extends Fuel\Core\Controller { public function before() { return parent::before ..."/>

        <link href="http://d.ktmtt.com/feeds/atom.xml" type="application/atom+xml" rel="alternate" title="ktmtt RSS Feed" />

        <title>スマートフォンとPCで表示するViewを変更 #FuelPHP // ktmtt // </title>

<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-62172-11']);
    _gaq.push(['_trackPageview']);

    (function() {
     var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
     ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
     var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
     })();
</script>
</head>

<body>
    <div class="pure-g-r content" id="layout">
        <div class="pure-u" id="nav">
            <a href="#" class="nav-menu-button">Menu</a>

            <div class="nav-inner">
                <div class="pure-menu pure-menu-open">
                        <a class="pure-menu-heading" href="http://d.ktmtt.com">ktmtt</a>
                    <ul>
                            <li><a href="http://ka2n.hatenablog.com/">はてなブログ(メイン)</a></li>
                            <li><a href="https://twitter.com/ka2n">Twitter</a></li>
                            <li><a href="https://github.com/ka2n">GitHub</a></li>
                            <li><a href="https://plus.google.com/+KatsumaIto?rel=author">G+</a></li>
                        <li class="pure-menu-heading">Tags</li>
                            <li><a href="http://d.ktmtt.com/tag/mac.html"><span class="cat-label-blue"></span>Mac</a></li>
                            <li><a href="http://d.ktmtt.com/tag/titanium.html"><span class="cat-label-blue"></span>titanium</a></li>
                            <li><a href="http://d.ktmtt.com/tag/iphone.html"><span class="cat-label-blue"></span>iPhone</a></li>
                            <li><a href="http://d.ktmtt.com/tag/ios.html"><span class="cat-label-blue"></span>iOS</a></li>
                            <li><a href="http://d.ktmtt.com/tag/tips.html"><span class="cat-label-blue"></span>Tips</a></li>
                            <li><a href="http://d.ktmtt.com/tag/fuelphp.html"><span class="cat-label-blue"></span>FuelPHP</a></li>
                            <li><a href="http://d.ktmtt.com/tag/firefox.html"><span class="cat-label-blue"></span>Firefox</a></li>
                            <li><a href="http://d.ktmtt.com/tag/php.html"><span class="cat-label-blue"></span>php</a></li>
                            <li><a href="http://d.ktmtt.com/tag/bar.html"><span class="cat-label-blue"></span>bar</a></li>
                            <li><a href="http://d.ktmtt.com/tag/coolbook.html"><span class="cat-label-blue"></span>CoolBook</a></li>
                            <li><a href="http://d.ktmtt.com/tag/iphone4.html"><span class="cat-label-blue"></span>iPhone4</a></li>
                            <li><a href="http://d.ktmtt.com/tag/wimax.html"><span class="cat-label-blue"></span>WiMAX</a></li>
                            <li><a href="http://d.ktmtt.com/tag/python.html"><span class="cat-label-blue"></span>python</a></li>
                            <li><a href="http://d.ktmtt.com/tag/javascript.html"><span class="cat-label-blue"></span>javascript</a></li>
                            <li><a href="http://d.ktmtt.com/tag/kindle.html"><span class="cat-label-blue"></span>kindle</a></li>
                            <li><a href="http://d.ktmtt.com/tag/foo.html"><span class="cat-label-blue"></span>foo</a></li>
                            <li><a href="http://d.ktmtt.com/tag/fitbit.html"><span class="cat-label-blue"></span>fitbit</a></li>
                            <li><a href="http://d.ktmtt.com/tag/vps.html"><span class="cat-label-blue"></span>VPS</a></li>
                            <li><a href="http://d.ktmtt.com/tag/html.html"><span class="cat-label-blue"></span>HTML</a></li>
                            <li><a href="http://d.ktmtt.com/tag/yeah.html"><span class="cat-label-blue"></span>yeah</a></li>
                            <li><a href="http://d.ktmtt.com/tag/sugersync.html"><span class="cat-label-blue"></span>SugerSync</a></li>
                            <li><a href="http://d.ktmtt.com/tag/baz.html"><span class="cat-label-blue"></span>baz</a></li>
                            <li><a href="http://d.ktmtt.com/tag/jquery.html"><span class="cat-label-blue"></span>jquery</a></li>
                            <li><a href="http://d.ktmtt.com/tag/jsx.html"><span class="cat-label-blue"></span>JSX</a></li>
                            <li><a href="http://d.ktmtt.com/tag/oh.html"><span class="cat-label-blue"></span>oh</a></li>
                            <li><a href="http://d.ktmtt.com/tag/test.html"><span class="cat-label-blue"></span>test</a></li>
                            <li><a href="http://d.ktmtt.com/tag/vimperator.html"><span class="cat-label-blue"></span>Vimperator</a></li>
                            <li><a href="http://d.ktmtt.com/tag/jailbreak.html"><span class="cat-label-blue"></span>JailBreak</a></li>
                            <li><a href="http://d.ktmtt.com/tag/android.html"><span class="cat-label-blue"></span>Android</a></li>
                            <li><a href="http://d.ktmtt.com/tag/debian.html"><span class="cat-label-blue"></span>Debian</a></li>
                            <li><a href="http://d.ktmtt.com/tag/github.html"><span class="cat-label-blue"></span>github</a></li>
                            <li><a href="http://d.ktmtt.com/tag/wallpaper.html"><span class="cat-label-blue"></span>Wallpaper</a></li>
                            <li><a href="http://d.ktmtt.com/tag/gopro.html"><span class="cat-label-blue"></span>GoPro</a></li>
                            <li><a href="http://d.ktmtt.com/tag/chrome.html"><span class="cat-label-blue"></span>chrome</a></li>
                            <li><a href="http://d.ktmtt.com/tag/bicycle.html"><span class="cat-label-blue"></span>bicycle</a></li>
                            <li><a href="http://d.ktmtt.com/tag/wordpress.html"><span class="cat-label-blue"></span>wordpress</a></li>
                            <li><a href="http://d.ktmtt.com/tag/django.html"><span class="cat-label-blue"></span>Django</a></li>
                            <li><a href="http://d.ktmtt.com/tag/kobo.html"><span class="cat-label-blue"></span>kobo</a></li>
                            <li><a href="http://d.ktmtt.com/tag/lion.html"><span class="cat-label-blue"></span>Lion</a></li>
                            <li><a href="http://d.ktmtt.com/tag/nodejs.html"><span class="cat-label-blue"></span>nodejs</a></li>
                            <li><a href="http://d.ktmtt.com/tag/facebook.html"><span class="cat-label-blue"></span>facebook</a></li>
                            <li><a href="http://d.ktmtt.com/tag/webkit.html"><span class="cat-label-blue"></span>Webkit</a></li>
                            <li><a href="http://d.ktmtt.com/tag/docker.html"><span class="cat-label-blue"></span>docker</a></li>
                            <li><a href="http://d.ktmtt.com/tag/dvd.html"><span class="cat-label-blue"></span>DVD</a></li>
                            <li><a href="http://d.ktmtt.com/tag/eclipse.html"><span class="cat-label-blue"></span>Eclipse</a></li>
                            <li><a href="http://d.ktmtt.com/tag/dotcloud.html"><span class="cat-label-blue"></span>dotcloud</a></li>
                            <li><a href="http://d.ktmtt.com/tag/macbookpro.html"><span class="cat-label-blue"></span>MacBookPro</a></li>
                            <li><a href="http://d.ktmtt.com/tag/1password.html"><span class="cat-label-blue"></span>1Password</a></li>
                            <li><a href="http://d.ktmtt.com/tag/osx.html"><span class="cat-label-blue"></span>osx</a></li>
                            <li><a href="http://d.ktmtt.com/tag/apple.html"><span class="cat-label-blue"></span>Apple</a></li>
                            <li><a href="http://d.ktmtt.com/tag/gadget.html"><span class="cat-label-blue"></span>gadget</a></li>
                            <li><a href="http://d.ktmtt.com/tag/images.html"><span class="cat-label-blue"></span>images</a></li>
                            <li><a href="http://d.ktmtt.com/tag/safari.html"><span class="cat-label-blue"></span>Safari</a></li>
                            <li><a href="http://d.ktmtt.com/tag/xcode.html"><span class="cat-label-blue"></span>Xcode</a></li>
                            <li><a href="http://d.ktmtt.com/tag/smartq5.html"><span class="cat-label-blue"></span>SmartQ5</a></li>
                            <li><a href="http://d.ktmtt.com/tag/ubuntu.html"><span class="cat-label-blue"></span>Ubuntu</a></li>
                            <li><a href="http://d.ktmtt.com/tag/git.html"><span class="cat-label-blue"></span>git</a></li>
                            <li><a href="http://d.ktmtt.com/tag/pocket.html"><span class="cat-label-blue"></span>Pocket</a></li>
                            <li><a href="http://d.ktmtt.com/tag/foobar.html"><span class="cat-label-blue"></span>foobar</a></li>
                            <li><a href="http://d.ktmtt.com/tag/composer.html"><span class="cat-label-blue"></span>composer</a></li>
                            <li><a href="http://d.ktmtt.com/tag/twitter.html"><span class="cat-label-blue"></span>twitter</a></li>
                            <li><a href="http://d.ktmtt.com/tag/linux.html"><span class="cat-label-blue"></span>Linux</a></li>
                    </ul>
                </div>
            </div>
        </div>

    <div class="pure-u-3-4">
        <div class="article-content margin-blue">
            <div class="article-content-header pure-g">
                <div class="pure-u-1">
                    <h1 class="article-content-title">スマートフォンとPCで表示するViewを変更 #FuelPHP</h1>
                    <p class="article-content-subtitle">
                        by <a href="http://d.ktmtt.com/author/ka2n.html">ka2n</a> on <span>2012-01-20</span>
                        // Posted in <a href="http://d.ktmtt.com/category/general.html">general</a>
                            // under                                 <a class="post-category post-category-design" href="http://d.ktmtt.com/tag/fuelphp.html">fuelphp</a>
                                <a class="post-category post-category-design" href="http://d.ktmtt.com/tag/php.html">php</a>
                    </p>
                </div>
            </div>
            <div class="article-content-body">
                <p>
                    <p>最近FuelPHP初めましたっ///</p>
<p>同一のURLでPCとスマートフォンに対応したいですよね。</p>
<ul class="simple">
<li>CSS3 Media Queriesを使ってクライアントサイドで振り分ける</li>
<li>UserAgentを見てサーバサイドで振り分ける</li>
</ul>
<p>なんて方法があると思います。
全部Media Queriesを使ってやろうとすると、スマホ用とPC用とPad用でごっちゃごちゃになっちゃいそうです。
まず、PCとスマホ/Padで分けてから、Media QueriesでスマホとPadで分けるのがいいんじゃないかと個人的には思います。
スマホとPadはタッチデバイス(であることが多い)ですからね。</p>
<p>FuelPHPには、UserAgent周りを扱うAgentクラスがありますのでそれを使います。
あと、Themeクラスなんていうものもあります(これなぜかドキュメントに載っていない)。
この2つを使ってみたいと思います。</p>
<p>作戦</p>
<blockquote>
FuelのControllerクラスを拡張してAppControllerクラスを作る。
AppController::beforeでUserAgentを判別し、テーマを切り替える。
レスポンスはThemeクラスを使って構築する。</blockquote>
<p>よし、早速やってみます。</p>
<p>APPPATH/classes/controller/app_controller.php</p>
<div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="k">class</span> <span class="nc">AppController</span> <span class="k">extends</span> <span class="nx">Fuel\Core\Controller</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">before</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="k">parent</span><span class="o">::</span><span class="na">before</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
<p>とりあえずこんな感じでファイルを作成します。ちなみにAppControllerとかネーミングは適当デス。</p>
<p>このクラスをFuelPHPが動くたびに読み込んでくれるように設定します。</p>
<p>APPPATH/bootstrap.php</p>
<div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="o">...</span><span class="err">略</span><span class="o">...</span>

<span class="nx">Autoloader</span><span class="o">::</span><span class="na">add_classes</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="c1">// Add classes you want to override here</span>
    <span class="c1">// Example: &#39;View&#39; =&gt; APPPATH.&#39;classes/view.php&#39;,</span>
    <span class="s1">&#39;AppController&#39;</span> <span class="o">=&gt;</span> <span class="nx">APPPATH</span><span class="o">.</span><span class="s1">&#39;classes/controller/app_controller.php&#39;</span>
<span class="p">));</span>
</pre></div>
<p>これで、どのクラスからもAppControllerという名前で作成したクラスを呼び出せるようになりました。</p>
<p>次に、AgentをつかってUAを判別する部分を書きます。</p>
<p>APPPATH/classes/controller/app_controller.php</p>
<div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="k">class</span> <span class="nc">AppController</span> <span class="k">extends</span> <span class="nx">Fuel\Core\Controller</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">before</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="k">parent</span><span class="o">::</span><span class="na">before</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="k">function</span> <span class="nf">is_smartphone</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nx">Agent</span><span class="o">::</span><span class="na">is_mobiledevice</span><span class="p">();</span>
    <span class="p">}</span>

<span class="p">}</span>
</pre></div>
<p>こんな感じに書いてみました。Agentクラスはbrowsecap.iniを読み込んでいるのでそれでUAを判別しています。
今回はPC以外はスマートフォンってことにします。
あと、SoftBankが見当たらないんですがどうすればいいんでしょうか。フューチャーフォン対応はしないので気にしません。
Agent::browser();で&quot;DoCoMo&quot;とか取得できるので、フューチャーフォン対応が必要ならそれを使うことになると思います。
最後に、Themeクラスを使って読み込むViewファイルを切り替えてみます。
このThemeクラスっていうのがよく分からなくて、それっぽい名前なので使ってみるのですが、本来意図された使い方とは違うかもしれません。</p>
<p>Themeクラス自体の使い方はこんな具合です。</p>
<p>APPPATH/classes/controller/hogehoge.php</p>
<div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="k">class</span> <span class="nc">Controller_Hogehoge</span> <span class="k">extends</span> <span class="nx">Controller</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">before</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Theme</span> <span class="o">=</span> <span class="nx">Theme</span><span class="o">::</span><span class="na">forge</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
            <span class="s1">&#39;active&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;theme1&#39;</span><span class="p">,</span> <span class="c1">// 現在のテーマ</span>
            <span class="s1">&#39;fallback&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="c1">// 現在のテーマに目的のViewファイルが無かった時に探すテーマ</span>
            <span class="s1">&#39;paths&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="nx">APPPATH</span><span class="o">.</span><span class="s1">&#39;views&#39;</span><span class="p">),</span> <span class="c1">// テーマディレクトリの検索パス</span>
            <span class="s1">&#39;assets_folder&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;assets&#39;</span><span class="p">,</span> <span class="c1">// assetsのフォルダ名(謎)</span>
            <span class="s1">&#39;view_ext&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;.php&#39;</span><span class="p">,</span> <span class="c1">// Viewファイルの拡張子</span>
            <span class="s1">&#39;require_info_file&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">,</span>
            <span class="s1">&#39;info_file_name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;theme.info&#39;</span><span class="p">,</span>
        <span class="p">));</span>

        <span class="c1">// info_file_nameとかあることを考えると、WordPressみたいなテーマシステムを組み込むためのもの？</span>
        <span class="c1">// forgeの引数に設定を書くと、Themeクラスのデフォルト設定に上書きされる</span>
        <span class="c1">// 設定を書かなければデフォルト値が使われるか、APPPATH/config/theme.phpがあればそれが読み込まれる</span>

        <span class="k">return</span> <span class="k">parent</span><span class="o">::</span><span class="na">before</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">action_welcome</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nx">Response</span><span class="o">::</span><span class="na">forge</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Theme</span><span class="o">-&gt;</span><span class="na">view</span><span class="p">(</span><span class="s1">&#39;welcome/index&#39;</span><span class="p">));</span> <span class="c1">// View-&gt;forgeの代わりにTheme::viewを使う</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
<p>ちなみにViewクラスの置き換えはできますが、ViewModelをすることは今のところ出来ないようです。
上記の呼び出し方の場合、APPPATH/viewsがベースになるので、</p>
<ul class="simple">
<li>APPPATH/views/default/</li>
<li>APPPATH/views/theme1/</li>
<li>APPPATH/views/theme2/</li>
</ul>
<p>上記のパスにそれぞれのビューのファイルを配置します。</p>
<p>このThemeクラスを先程のAppControllerに組み込んでみました。</p>
<p>APPPATH/classes/controller/app_controller.php</p>
<div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="k">class</span> <span class="nc">AppController</span> <span class="k">extends</span> <span class="nx">Fuel\Core\Controller</span>
<span class="p">{</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">before</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$activeTheme</span> <span class="o">=</span> <span class="s1">&#39;default&#39;</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">is_smartphone</span><span class="p">())</span> <span class="p">{</span>
            <span class="nv">$activeTheme</span> <span class="o">=</span> <span class="s1">&#39;smartphone&#39;</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Theme</span> <span class="o">=</span> <span class="nx">Theme</span><span class="o">::</span><span class="na">forge</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
            <span class="s1">&#39;active&#39;</span> <span class="o">=&gt;</span> <span class="nv">$activeTheme</span><span class="p">,</span>
            <span class="s1">&#39;fallback&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;default&#39;</span><span class="p">,</span>
            <span class="s1">&#39;paths&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="nx">APPPATH</span> <span class="o">.</span><span class="s1">&#39;views&#39;</span><span class="p">),</span>
            <span class="s1">&#39;view_ext&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;.php&#39;</span>
        <span class="p">));</span>

        <span class="k">return</span> <span class="k">parent</span><span class="o">::</span><span class="na">before</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="k">function</span> <span class="nf">is_smartphone</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nx">Agent</span><span class="o">::</span><span class="na">is_mobiledevice</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
<p>UAに対応したテーマ名をThemeクラスに設定してあげているだけです。</p>
<p>あとはこんな具合</p>
<p>APPPATH/classes/controller/welcome.php</p>
<div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="k">class</span> <span class="nc">Controller_Welcome</span> <span class="k">extends</span> <span class="nx">AppController</span>
<span class="p">{</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">before</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="k">parent</span><span class="o">::</span><span class="na">before</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">action_index</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nx">Response</span><span class="o">::</span><span class="na">forge</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Theme</span><span class="o">-&gt;</span><span class="na">view</span><span class="p">(</span><span class="s1">&#39;welcome/index&#39;</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
<p>APPPATH/views/default/welcome/index.php</p>
<div class="highlight"><pre><span class="cp">&lt;!DOCTYPE HTML&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">&quot;ja&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">&quot;UTF-8&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;title&gt;</span>PC<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;h1&gt;</span>このページはPC用です<span class="nt">&lt;/h1&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
<p>APPPATH/views/smartphone/welcome/index.php</p>
<div class="highlight"><pre><span class="cp">&lt;!DOCTYPE HTML&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">&quot;ja&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">&quot;UTF-8&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;viewport&quot;</span> <span class="na">content=</span><span class="s">&quot;width=device-width, initial-scale=1,</span>
<span class="s">        maximum-scale=2&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;title&gt;</span>スマートフォン/Pad<span class="nt">&lt;/title&gt;</span>
        <span class="nt">&lt;style&gt;</span>

            <span class="nc">.only_for_pad</span> <span class="p">{</span>
                <span class="k">display</span><span class="o">:</span> <span class="k">none</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="nc">.only_for_mobile</span> <span class="p">{</span>
                <span class="k">display</span><span class="o">:</span> <span class="k">none</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="k">@media</span> <span class="nt">screen</span> <span class="nt">and</span> <span class="o">(</span><span class="nt">max-width</span><span class="o">:</span> <span class="nt">480px</span><span class="o">)</span> <span class="p">{</span>
                <span class="nc">.only_for_mobile</span> <span class="p">{</span>
                    <span class="k">display</span><span class="o">:</span> <span class="k">block</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>

            <span class="k">@media</span> <span class="nt">only</span> <span class="nt">screen</span> <span class="nt">and</span> <span class="o">(</span><span class="nt">min-device-width</span><span class="o">:</span> <span class="nt">768px</span><span class="o">)</span> <span class="nt">and</span>
            <span class="o">(</span><span class="nt">max-device-width</span><span class="o">:</span> <span class="nt">1024px</span><span class="o">)</span> <span class="p">{</span>
                <span class="nc">.only_for_pad</span> <span class="p">{</span>
                    <span class="k">display</span><span class="o">:</span> <span class="k">block</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>

        <span class="nt">&lt;/style&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;p&gt;</span>Padとスマホで表示されるページです。<span class="nt">&lt;/p&gt;</span>
        <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">&quot;only_for_pad&quot;</span><span class="nt">&gt;</span>この文章はPad用です。<span class="nt">&lt;/p&gt;</span>
        <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">&quot;only_for_mobile&quot;</span><span class="nt">&gt;</span>この文章はモバイル用です。<span class="nt">&lt;/p&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
<div class="section" id="id1">
<h2>あとがき</h2>
<p>試していないですが、Themeクラスを使わずに
Fuel::add_pathで単純にパスを追加するだけでViewModelで使えて幸せになれるんじゃないかと思います(今更)</p>
</div>

                </p>
 
            </div>
        </div>
    </div>

        <div class="pure-u-3-4">
            <footer class="footer">
                <p>&copy; ktmtt &ndash;
                    Built with <a href="https://github.com/danclaudiupop/pure">Pure Theme</a>
                    for <a href="http://blog.getpelican.com/">Pelican</a>
                </p>
                <p>Licensed under <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_GB">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.</p>
                <a href="#" class="go-top">Go Top</a>
            </footer>
        </div>

    <script src="http://yui.yahooapis.com/3.10.1/build/yui/yui-min.js"></script>
    <script>
        YUI().use('node-base', 'node-event-delegate', function (Y) {

            var menuButton = Y.one('.nav-menu-button'),
                nav        = Y.one('#nav');

            // Setting the active class name expands the menu vertically on small screens.
            menuButton.on('click', function (e) {
                nav.toggleClass('active');
            });

            // Your application code goes here...

        });
    </script>
    <script>
        YUI().use('node-base', 'node-event-delegate', function (Y) {
            // This just makes sure that the href="#" attached to the <a> elements
            // don't scroll you back up the page.
            Y.one('body').delegate('click', function (e) {
                e.preventDefault();
            }, 'a[href="#"]');
        });
    </script>
    <script>
        $(document).ready(function() {
            // Show or hide the sticky footer button
            $(window).scroll(function() {
                if ($(this).scrollTop() > 200) {
                    $('.go-top').fadeIn(200);
                } else {
                    $('.go-top').fadeOut(200);
                }
            });

            // Animate the scroll to top
            $('.go-top').click(function(event) {
                event.preventDefault();

                $('html, body').animate({scrollTop: 0}, 300);
            })
        });
    </script>
</body>
</html>